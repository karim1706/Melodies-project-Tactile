<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relax & B-aware</title>

    <style>
        body{
            margin:0;
            padding:0;
            height: 1061px;
            width: 100%;
            background: url('images/piano.jpg') no-repeat;
            background-size:100% 100%;
        }

        h1{
            color: gold;
        }

        h3{
            color: #fff;
        }

        h1, h3{
            padding-left: 10px;
        }

        p{
            color: #fff;
            margin-left: 10px;
        }

        

        .container{
            display: flex;
            flex-direction: row;
             transform:  skewY(15deg);
             position: absolute;
             top:80%;
             left: 22%;
        }

        .touch{
            cursor: grab;
            color: yellow;
            background-color: #000; /* rgba(161, 40, 40, 0.5);*/
            border: 1px solid yellow;
            width: 18px;
            height: 60px;
            text-align: center;
            font-size: 1.5em;
            padding: 5px;
            margin-right: 0.5em;
           
        }

        .white{
            width: 18px;
            height: 60px;
            background-color: #fff;
            margin-right: 0.5em;
            padding: 5px;
        }

        .scale{
            transform: scale(2);
        }

        @media screen and (max-width: 760px){

            body{
                
                height: 790px;
                background-size:100% 100%;
            }

            h1, h3{
                text-align: center;
                padding-left: 0;
            }

            .container{
                display: '';
                flex-direction: '';
                transform:  skewY(35deg);
                position: '';
                top: 73%;
                left: 16%;
            }

            .touch{
                
                width: 5px;
                text-align: center;
                font-size: 0.98em;
                padding: 5px;
                margin-right: 0.5em;
               
            }

            .white{
                display: none;
            }
        }
    </style>
</head>
<body>
    <h1>Relax & B-aware</h1>
    <h3>Click on the K, A, R, I or M touch of the keyboard 
        and let yourself be surprised<br> by a beautiful & relaxing melody.</h3> 
    <p>(Cliquez sur les touches K, A, R, I ou M du clavier et laissez-vous transporter<br> par une douce et relaxante musique au piano.)</p>
    
    <div class="container">
        <div class="touch" data-id="a75">K</div>
        <div class="white" ></div>
        <div class="touch" data-id="b65">A</div>
        <div class="white" ></div>
        <div class="touch" data-id="c82">R</div>
        <div class="white" ></div>
        <div class="touch" data-id="d73">I</div>
        <div class="white" ></div>
        <div class="touch" data-id="e77">M</div>
    </div>
        

    <audio src="audios/melodie1.mp3" alt="melodie 1" data-id="a75" ></audio> 
    <audio src="audios/melodie2.mp3" alt="melodie 2" data-id="b65" ></audio>
    <audio src="audios/melodie3.mp3" alt="melodie 3" data-id="c82" ></audio>
    <audio src="audios/melodie4.mp3" alt="melodie 4" data-id="d73" ></audio>
    <audio src="audios/melodie5.mp3" alt="melodie 5" data-id="e77" ></audio>

    <script>
       
      
            
           let touch = document.querySelectorAll(`.touch[data-id]`);

          touch.forEach(element => {
              element.addEventListener('click', () => {
                  // Récupérer le data-id
                  let id = element.dataset.id; console.log(id);
                  // Jouer une mélodie au click
                  let audio = document.querySelector(`audio[data-id=${id}]`);

                  if(!audio) return;
                  audio.play();

                  // Si on lance un autre audio, l'audio précédent s'arrête
                document.addEventListener('play', function(e){
                    var audios = document.getElementsByTagName('audio');
                    for(var i = 0; i < audios.length; i++){
                        if(audios[i] != e.target){
                            audios[i].pause();
                        }
                    }
                }, true);

                // On récupère les touches du clavier et on leur ajoute la classe "scale"
                // La classe scale permet de grossir la touche lors du click.
                const touch = document.querySelector(`.touch[data-id=${id}]`);
                    touch.classList.add('scale');

                // On retire la classe scale une fois le doigt enlevé de la touche
                window.addEventListener('mouseout', event => {
                    touch.classList.remove('scale');
        })  
                            
              })
          })

          
    </script>
</body>
</html>